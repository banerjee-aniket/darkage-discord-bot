{% extends "base.html" %}
{% block content %}
<style>
/* ===== Base ===== */
body{
  background:#0e0e0e;
  color:#e5e1d6;
}

/* ===== Layout ===== */
.container{
  max-width:980px;
  margin-top:72px;
}

/* ===== Panel ===== */
.panel{
  background:linear-gradient(180deg,#1a1612,#14110e);
  border:1px solid #3a2f25;
  border-radius:16px;
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.02),
    0 20px 48px rgba(0,0,0,.7);
  padding:0;
}

.panel-header{
  background:linear-gradient(180deg,#241f19,#1e1914);
  color:#d6c7a2;
  border-bottom:1px solid #3a2f25;
  font-family:Georgia,Palatino,serif;
  font-weight:600;
  letter-spacing:.7px;
  padding:16px 22px;
}

.panel-body{
  padding:22px;
}

/* ===== Typography ===== */
.section-title{
  font-family:Georgia,Palatino,serif;
  color:#d6c7a2;
  margin:14px 0 14px;
  letter-spacing:.4px;
}

.divider{
  height:1px;
  background:linear-gradient(
    to right,
    transparent,
    rgba(214,199,162,.25),
    transparent
  );
  margin:22px 0;
}

/* ===== Forms ===== */
.form-label{
  color:#d9d3c4;
  font-weight:500;
}

.form-control{
  background:#0f0f11;
  border:1px solid #3f3a35;
  color:#e5e1d6;
  border-radius:12px;
  padding:10px 14px;
}

.form-control::placeholder{
  color:#8f8878;
}

.form-control:focus{
  background:#0f0f11;
  color:#e5e1d6;
  border-color:#9a8550;
  box-shadow:0 0 0 .25rem rgba(154,133,80,.3);
}

/* ===== Checks ===== */
.form-check-input{
  background:#0f0f11;
  border:1px solid #3f3a35;
}

.form-check-input:checked{
  background-color:#9a8550;
  border-color:#9a8550;
}

.form-check-label{
  color:#d9d3c4;
}

/* ===== Helper text ===== */
.form-text{
  color:#a59c8a;
}

/* ===== Buttons ===== */
.btn-success{
  background:linear-gradient(180deg,#6f757b,#585e63);
  border-color:#585e63;
  color:#e5e1d6;
  font-weight:500;
}

.btn-success:hover{
  background:linear-gradient(180deg,#60666b,#4e5357);
  border-color:#4e5357;
}

.btn-primary{
  background:linear-gradient(180deg,#9a8550,#7f6c3f);
  border-color:#7f6c3f;
  color:#0e0e0e;
  font-weight:600;
}

.btn-primary:hover{
  background:linear-gradient(180deg,#8a7646,#6f5e36);
  border-color:#6f5e36;
  color:#0e0e0e;
}

/* ===== Links ===== */
.link{
  color:#d6c7a2;
}
</style>

<div class="panel">
  <div class="panel-header">Configuration</div>

  <div class="panel-body">
    <form method="post" action="/config/update">

      <div class="section-title">Minecraft Server</div>
      <div class="mb-3">
        <label class="form-label">IP</label>
        <input type="text" class="form-control" name="minecraft_ip" value="{{ config.minecraft.ip }}">
      </div>
      <div class="mb-3">
        <label class="form-label">Port</label>
        <input type="number" class="form-control" name="minecraft_port" value="{{ config.minecraft.port }}">
      </div>

      <div class="divider"></div>

      <div class="section-title">Links</div>
      <div class="mb-3">
        <label class="form-label">Website</label>
        <input type="url" class="form-control" name="link_website" value="{{ config.links.website }}">
      </div>
      <div class="mb-3">
        <label class="form-label">Store</label>
        <input type="url" class="form-control" name="link_store" value="{{ config.links.store }}">
      </div>
      <div class="mb-3">
        <label class="form-label">Vote Links (one per line)</label>
        <textarea class="form-control" name="link_vote" rows="3">{{ config.links.vote | join('\n') }}</textarea>
      </div>

      <div class="divider"></div>

      <div class="section-title">Rules</div>
      <div class="mb-3">
        <textarea class="form-control" name="rules" rows="5">{{ config.rules }}</textarea>
      </div>

      <div class="divider"></div>

      <div class="section-title">Welcome System</div>
      <div class="form-check mb-3">
        <input class="form-check-input" type="checkbox" name="welcome_enabled" id="welcome_enabled"
          {% if config.welcome.enabled %}checked{% endif %}>
        <label class="form-check-label" for="welcome_enabled">
          Enable Welcome Messages
        </label>
      </div>

      <div class="mb-3">
        <label class="form-label">Channel ID</label>
        <input type="number" class="form-control" name="welcome_channel_id" value="{{ config.welcome.channel_id }}">
      </div>

      <div class="mb-3">
        <label class="form-label">Message</label>
        <input type="text" class="form-control" name="welcome_message" value="{{ config.welcome.message }}">
        <div class="form-text">Use {user} to mention the new member.</div>
      </div>

      <div class="divider"></div>

      <div class="section-title">Commands</div>
      <div class="mb-3">
        {% for cmd, enabled in config.commands.items() %}
        <div class="form-check form-check-inline mb-2">
          <input class="form-check-input" type="checkbox" name="cmd_{{ cmd }}" id="cmd_{{ cmd }}"
            {% if enabled %}checked{% endif %}>
          <label class="form-check-label" for="cmd_{{ cmd }}">{{ cmd }}</label>
        </div>
        {% endfor %}
      </div>

      <div class="mt-4">
        <button type="submit" class="btn btn-success">
          Save Configuration
        </button>
      </div>

    </form>
  </div>
</div>
{% endblock %}

